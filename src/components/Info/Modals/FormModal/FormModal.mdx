import { Meta, Canvas, Controls, Story, ArgTypes } from '@storybook/addon-docs/blocks';
import { FormModal } from './FormModal';
import * as FormModalStories from './FormModal.stories';

<Meta of={FormModalStories} />

# FormModal

[View Mantine Docs](https://v6.mantine.dev/core/modal/)


The FormModal component is a structured modal built on Mantine's Modal, with an icon, content area, and configurable cancel/confirm footer buttons. Use it for confirmations, forms, or short messages that require user action.

### üì¶ Import

```tsx
import { FormModal } from '@taiv/ui';
```

### ‚úçÔ∏è Basic Usage

<Canvas of={FormModalStories.Default} height={900} />
<Controls of={FormModalStories.Default} />

---

### üìê With Custom Icon

Pass a custom `icon` (e.g. `IconFlask`) to show an icon block above the content.

<Story of={FormModalStories.WithCustomIcon} />

### üìê With Form Content

Use `children` to render any content‚Äîforms, inputs, or messages. Here, a TextInput is used inside the modal.

<Story of={FormModalStories.WithTextInput} />

### üìê Complete Example

A complete example showing a FormModal with a custom icon, custom message, and NumberInput. This demonstrates how to combine multiple elements for a real-world use case like adding items to a cart.

<Story of={FormModalStories.CompleteExample} />

## <br />

### üé® Modal Variants

`modalVariant` controls the default icon (with colored background), button style, and default labels. Click each button to open the modal with that variant.

> **Note:** Default icons may not appear in Storybook.

<Story of={FormModalStories.Variants} />

<table>
  <thead>
    <tr>
      <th>Variant</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>confirm</td>
      <td>Confirmations, "Are you sure?"</td>
    </tr>
    <tr>
      <td>info</td>
      <td>Neutral information</td>
    </tr>
    <tr>
      <td>success</td>
      <td>Confirmations, positive actions</td>
    </tr>
    <tr>
      <td>error</td>
      <td>Errors actions, retry prompts</td>
    </tr>
    <tr>
      <td>warning</td>
      <td>Cautionary actions, warnings</td>
    </tr>
    <tr>
      <td>cancel</td>
      <td>Destructive actions, cancellations</td>
    </tr>
  </tbody>
</table>

## <br />

### üìè Width

Control modal width via the `width` prop (CSS value or number in px). Default is `40rem`.

<Story of={FormModalStories.Widths} />

## <br />

### üè∑Ô∏è Custom Button Labels

Override the footer button text with `cancelLabel` and `confirmLabel`. Omit them to use the variant defaults.

<Story of={FormModalStories.CustomLabels} />

## <br />

### üí° Best Practices

1. **Control visibility with state**: Use `useState` for `opened` and wire `onClose`, `onCancel`, and `onConfirm` to close the modal when appropriate.

2. **Use semantic variants**: Choose `modalVariant` to match intent (e.g. `cancel` for destructive actions, `success` for positive confirmations).

3. **Override labels and icons when needed**: Use `cancelLabel` and `confirmLabel` for context-specific copy; otherwise rely on variant defaults. Use a custom `icon` when you need a specific visual.

4. **Keep content focused**: Use `children` for concise messages or simple forms. Consider dedicated layout components for complex forms.

5. **Width and responsive behavior**: Use `width` for consistency with your layout. Test at different viewport sizes when using fixed widths.

## <br />
